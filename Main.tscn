[gd_scene load_steps=17 format=4 uid="uid://yp3tn4o3ikwt"]

[ext_resource type="PackedScene" uid="uid://de53ukdqyusan" path="res://Background/Map.tscn" id="1_khjdm"]
[ext_resource type="Script" path="res://UI/UIManager.gd" id="2_bhmyg"]
[ext_resource type="Script" path="res://Map/GameBoard/GameBoard.gd" id="2_hx4vu"]
[ext_resource type="PackedScene" uid="uid://8rtjsul3c7ym" path="res://Units/Unit.tscn" id="2_n3f5l"]
[ext_resource type="Script" path="res://Background/Map.gd" id="4_jj0xn"]
[ext_resource type="PackedScene" uid="uid://cefp73bur6v0t" path="res://Units/UnitOverlay/UnitOverlay.tscn" id="4_sf86o"]
[ext_resource type="PackedScene" uid="uid://bmuue0dlmkw5u" path="res://Map/GameBoard/Cursor/Cursor.tscn" id="4_xbrol"]
[ext_resource type="Script" path="res://Units/UnitManager.gd" id="5_pc50w"]
[ext_resource type="PackedScene" uid="uid://bxbdtgea1xr7" path="res://Map/GameBoard/UnitPath.tscn" id="6_xwtul"]
[ext_resource type="PackedScene" uid="uid://tar6m7pprnsj" path="res://Units/EnemyTypes/Zombie/Zombie.tscn" id="8_ir5lr"]
[ext_resource type="PackedScene" uid="uid://doqlhcwkevql6" path="res://Units/Plants/HealthPlant/HealthPlant.tscn" id="9_b5d0w"]
[ext_resource type="Script" path="res://Units/Stats.gd" id="10_6aeo4"]
[ext_resource type="Script" path="res://Units/Plants/PlantManager.gd" id="10_o5bo3"]
[ext_resource type="PackedScene" uid="uid://cfemajau2fdnq" path="res://UI/HighlightInfoUI.tscn" id="11_o3oh6"]
[ext_resource type="Script" path="res://Units/Factions/FactionManager.gd" id="15_gqkb4"]

[sub_resource type="Resource" id="Resource_1aix1"]
resource_local_to_scene = true
script = ExtResource("10_6aeo4")
max_hp = 18
override_HP = false
hp_override = 0

[node name="Main" type="Node2D"]

[node name="PlayerManager" type="Node2D" parent="."]
y_sort_enabled = true
script = ExtResource("2_hx4vu")
starting_faction = "Enemy"

[node name="UIManager" type="CanvasLayer" parent="PlayerManager"]
script = ExtResource("2_bhmyg")

[node name="HighlightInfoUI" parent="PlayerManager/UIManager" instance=ExtResource("11_o3oh6")]
visible = false
offset_bottom = 228.0

[node name="Map" parent="PlayerManager" instance=ExtResource("1_khjdm")]
unique_name_in_owner = true
texture_filter = 1
tile_map_data = PackedByteArray("AAAAAAAAAAABAAMAAAAAAAEAAAACAAUAAAAAAAIAAAACAAUAAAAAAAMAAAACAAUAAAAAAAQAAAACAAUAAAAAAAUAAAACAAUAAAAAAAYAAAACAAUAAAAAAAcAAAACAAUAAAAAAAgAAAACAAUAAAAAAAkAAAABAAQAAAAAAAoAAAABAAQAAAAAAAsAAAABAAIAAAAAAAwAAAACAAIAAAAAAA0AAAACAAIAAAABAAAAAAABAAMAAAABAAEAAAAPABYAAAABAAIAAAABAAMAAAABAAMAAAACAAUAAAABAAQAAAACAAUAAAABAAUAAAAPABYAAAABAAYAAAACAAUAAAABAAcAAAACAAUAAAABAAgAAAACAAUAAAABAAkAAAAMABUAAAABAAoAAAABAAQAAAABAAsAAAABAAQAAAABAAwAAAABAAIAAAABAA0AAAABAAIAAAACAAAAAAABAAMAAAACAAEAAAABAAMAAAACAAIAAAABAAMAAAACAAMAAAABAAMAAAACAAQAAAACAAMAAAACAAUAAAACAAMAAAACAAYAAAABAAQAAAACAAcAAAADAAQAAAACAAgAAAACAAUAAAACAAkAAAABAAQAAAACAAoAAAAPABsAAAACAAsAAAAPABwAAAACAAwAAAAPAB0AAAACAA0AAAACAAMAAAADAAAAAAABAAMAAAADAAEAAAABAAMAAAADAAIAAAABAAMAAAADAAMAAAAMABUAAAADAAQAAAACAAMAAAADAAUAAAABAAUAAAADAAYAAAACAAQAAAADAAcAAAAEAAQAAAADAAgAAAABAAMAAAADAAkAAAABAAMAAAADAAoAAAAQABsAAAADAAsAAAAQABwAAAADAAwAAAAQAB0AAAADAA0AAAACAAMAAAAEAAAAAAACAAMAAAAEAAEAAAABAAMAAAAEAAIAAAABAAIAAAAEAAMAAAAPABYAAAAEAAQAAAAPABYAAAAEAAUAAAAPABYAAAAEAAYAAAABAAQAAAAEAAcAAAACAAIAAAAEAAgAAAACAAMAAAAEAAkAAAACAAIAAAAEAAoAAAARABsAAAAEAAsAAAARABwAAAAEAAwAAAARAB0AAAAEAA0AAAACAAMAAAAFAAAAAAABAAMAAAAFAAEAAAAMABUAAAAFAAIAAAAPABYAAAAFAAMAAAAPABYAAAAFAAQAAAABAAMAAAAFAAUAAAAPABYAAAAFAAYAAAABAAMAAAAFAAcAAAACAAMAAAAFAAgAAAABAAMAAAAFAAkAAAABAAIAAAAFAAoAAAACAAQAAAAFAAsAAAACAAUAAAAFAAwAAAACAAMAAAAFAA0AAAACAAMAAAAGAAAAAAACAAMAAAAGAAEAAAABAAIAAAAGAAIAAAAPABYAAAAGAAMAAAAPABYAAAAGAAQAAAANABgAAAAGAAUAAAACAAIAAAAGAAYAAAACAAMAAAAGAAcAAAABAAIAAAAGAAgAAAACAAMAAAAGAAkAAAACAAEAAAAGAAoAAAABAAMAAAAGAAsAAAABAAMAAAAGAAwAAAACAAMAAAAGAA0AAAACAAMAAAAHAAAAAAACAAMAAAAHAAEAAAABAAMAAAAHAAIAAAABAAMAAAAHAAMAAAABAAMAAAAHAAQAAAANABgAAAAHAAUAAAACAAMAAAAHAAYAAAABAAIAAAAHAAcAAAACAAMAAAAHAAgAAAABAAMAAAAHAAkAAAABAAMAAAAHAAoAAAABAAMAAAAHAAsAAAABAAMAAAAHAAwAAAAMABUAAAAHAA0AAAACAAMAAAAIAAAAAAACAAMAAAAIAAEAAAABAAMAAAAIAAIAAAACAAIAAAAIAAMAAAABAAMAAAAIAAQAAAACAAIAAAAIAAUAAAACAAMAAAAIAAYAAAACAAMAAAAIAAcAAAABAAMAAAAIAAgAAAACAAIAAAAIAAkAAAABAAMAAAAIAAoAAAABAAMAAAAIAAsAAAABAAMAAAAIAAwAAAACAAMAAAAIAA0AAAACAAMAAAAJAAAAAAABAAMAAAAJAAEAAAABAAMAAAAJAAIAAAACAAIAAAAJAAMAAAACAAMAAAAJAAQAAAABAAMAAAAJAAUAAAACAAMAAAAJAAYAAAACAAMAAAAJAAcAAAACAAMAAAAJAAgAAAABAAMAAAAJAAkAAAABAAIAAAAJAAoAAAAPABYAAAAJAAsAAAAPABYAAAAJAAwAAAAPABYAAAAJAA0AAAACAAMAAAAKAAAAAAACAAMAAAAKAAEAAAACAAIAAAAKAAIAAAABAAIAAAAKAAMAAAAFAAIAAAAKAAQAAAAFAAMAAAAKAAUAAAAHAAIAAAAKAAYAAAAHAAMAAAAKAAcAAAACAAMAAAAKAAgAAAACAAIAAAAKAAkAAAABAAIAAAAKAAoAAAAPABYAAAAKAAsAAAAPABYAAAAKAAwAAAABAAIAAAAKAA0AAAACAAMAAAALAAAAAAACAAMAAAALAAEAAAACAAMAAAALAAIAAAACAAMAAAALAAMAAAAGAAIAAAALAAQAAAAGAAMAAAALAAUAAAAOAAIAAAALAAYAAAAPABkAAAALAAcAAAACAAIAAAALAAgAAAABAAIAAAALAAkAAAABAAIAAAALAAoAAAAPABYAAAALAAsAAAABAAIAAAALAAwAAAABAAMAAAALAA0AAAABAAIAAAAMAAAAAAABAAMAAAAMAAEAAAABAAMAAAAMAAIAAAACAAMAAAAMAAMAAAABAAIAAAAMAAQAAAABAAMAAAAMAAUAAAACAAMAAAAMAAYAAAACAAMAAAAMAAcAAAAOABkAAAAMAAgAAAABAAIAAAAMAAkAAAABAAIAAAAMAAoAAAALABUAAAAMAAsAAAACAAIAAAAMAAwAAAACAAEAAAAMAA0AAAABAAIAAAANAAAAAAACAAIAAAANAAEAAAABAAIAAAANAAIAAAABAAMAAAANAAMAAAACAAMAAAANAAQAAAACAAMAAAANAAUAAAACAAMAAAANAAYAAAAQABkAAAANAAcAAAACAAIAAAANAAgAAAABAAIAAAANAAkAAAABAAIAAAANAAoAAAAMABQAAAANAAsAAAACAAIAAAANAAwAAAABAAIAAAANAA0AAAABAAMAAAAOAAAAAAACAAMAAAAOAAEAAAAOABgAAAAOAAIAAAACAAMAAAAOAAMAAAABAAMAAAAOAAQAAAACAAMAAAAOAAUAAAACAAIAAAAOAAYAAAAFAAIAAAAOAAcAAAAFAAMAAAAOAAgAAAACAAMAAAAOAAkAAAAMABUAAAAOAAoAAAANABQAAAAOAAsAAAACAAIAAAAOAAwAAAACAAMAAAAOAA0AAAABAAMAAAAPAAAAAAACAAMAAAAPAAEAAAABAAIAAAAPAAIAAAABAAMAAAAPAAMAAAABAAIAAAAPAAQAAAAPABgAAAAPAAUAAAACAAMAAAAPAAYAAAAOAAIAAAAPAAcAAAAOAAMAAAAPAAgAAAACAAIAAAAPAAkAAAAMABUAAAAPAAoAAAACAAMAAAAPAAsAAAABAAMAAAAPAAwAAAABAAMAAAAPAA0AAAACAAIAAAAQAAAAAAABAAMAAAAQAAEAAAABAAMAAAAQAAIAAAABAAMAAAAQAAMAAAAMABUAAAAQAAQAAAAQABgAAAAQAAUAAAABAAIAAAAQAAYAAAAMAAIAAAAQAAcAAAAMAAMAAAAQAAgAAAABAAMAAAAQAAkAAAABAAIAAAAQAAoAAAACAAIAAAAQAAsAAAACAAMAAAAQAAwAAAAMABUAAAAQAA0AAAACAAMAAAARAAAAAAABAAMAAAARAAEAAAACAAEAAAARAAIAAAABAAIAAAARAAMAAAABAAMAAAARAAQAAAABAAIAAAARAAUAAAABAAIAAAARAAYAAAACAAIAAAARAAcAAAABAAIAAAARAAgAAAACAAMAAAARAAkAAAABAAMAAAARAAoAAAACAAMAAAARAAsAAAACAAIAAAARAAwAAAABAAMAAAARAA0AAAACAAMAAAASAAAAAAACAAIAAAASAAEAAAACAAIAAAASAAIAAAACAAMAAAASAAMAAAACAAMAAAASAAQAAAABAAIAAAASAAUAAAACAAMAAAASAAYAAAACAAIAAAASAAcAAAAMABUAAAASAAgAAAACAAIAAAASAAkAAAABAAIAAAASAAoAAAACAAIAAAASAAsAAAAPABYAAAASAAwAAAABAAIAAAASAA0AAAACAAMAAAATAAAAAAABAAIAAAATAAEAAAACAAIAAAATAAIAAAABAAMAAAATAAMAAAACAAIAAAATAAQAAAABAAMAAAATAAUAAAACAAMAAAATAAYAAAACAAMAAAATAAcAAAABAAIAAAATAAgAAAACAAMAAAATAAkAAAACAAIAAAATAAoAAAABAAMAAAATAAsAAAACAAMAAAATAAwAAAACAAMAAAATAA0AAAACAAIAAAA=")
script = ExtResource("4_jj0xn")

[node name="UnitManager" type="Node2D" parent="PlayerManager/Map"]
script = ExtResource("5_pc50w")

[node name="Player" parent="PlayerManager/Map/UnitManager" instance=ExtResource("2_n3f5l")]
modulate = Color(2.959, 0.331, 0.248, 1)
position = Vector2(136, 104)
move_speed = 100
unit_name = "Player"
stats = SubResource("Resource_1aix1")

[node name="Zombie" parent="PlayerManager/Map/UnitManager" instance=ExtResource("8_ir5lr")]
position = Vector2(152, 24)

[node name="PlantManager" type="Node2D" parent="PlayerManager/Map"]
script = ExtResource("10_o5bo3")

[node name="HealthPlant" parent="PlayerManager/Map/PlantManager" instance=ExtResource("9_b5d0w")]
position = Vector2(104, 104)
curve = null

[node name="HealthPlant2" parent="PlayerManager/Map/PlantManager" instance=ExtResource("9_b5d0w")]
position = Vector2(152, 136)
curve = null

[node name="HealthPlant3" parent="PlayerManager/Map/PlantManager" instance=ExtResource("9_b5d0w")]
position = Vector2(72, 104)
curve = null

[node name="UnitOverlay" parent="PlayerManager" instance=ExtResource("4_sf86o")]

[node name="UnitPathArrow" parent="PlayerManager" instance=ExtResource("6_xwtul")]
texture_filter = 1

[node name="Cursor" parent="PlayerManager" instance=ExtResource("4_xbrol")]

[node name="FactionManager" type="Node2D" parent="PlayerManager"]
script = ExtResource("15_gqkb4")

[node name="Camera" type="Camera2D" parent="."]
unique_name_in_owner = true
offset = Vector2(-49.845, -8)
anchor_mode = 0
zoom = Vector2(3, 3)

[connection signal="cursor_enable" from="PlayerManager" to="PlayerManager/Cursor" method="_on_cursor_enable"]
[connection signal="accept_pressed" from="PlayerManager/Cursor" to="PlayerManager" method="_on_cursor_accept_pressed"]
[connection signal="moved" from="PlayerManager/Cursor" to="PlayerManager" method="_on_cursor_moved"]
[connection signal="cpu_turn" from="PlayerManager/FactionManager" to="PlayerManager" method="_cpu_turn"]
[connection signal="enable_cursor" from="PlayerManager/FactionManager" to="PlayerManager/Cursor" method="_on_cursor_enable"]
[connection signal="grow_plants" from="PlayerManager/FactionManager" to="PlayerManager/Map/PlantManager" method="grow_all"]
[connection signal="next_phase" from="PlayerManager/FactionManager" to="PlayerManager/UIManager" method="_on_next_phase"]
